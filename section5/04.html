<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>연속 부분수열 2</title>
</head>
<body>
    <script>
        function solution(m, arr){
            //숫자 1개 포함 연속부분수열의 합이 m 이하 
            //수열의 원소 개수가 1인 것부터 2 3 이렇게 증가하는거니
            let sum=0, lt=0, count=0;
            let n=arr.length;
            let rt=0;
            for(let rt=0; rt<n; rt++){
                sum+=arr[rt];
                if(sum<=m){
                    count++;
                    console.log(lt,rt);
                }
                while(sum>m){ //sum이 주어진 수보다 크면 
                    lt++; //lt를 늘려서 
                    sum=arr[lt]; //sum을 arr[lt]값으로 초기화하고
                    rt=lt; //멀리 나갔던 rt도 lt에서 같이 시작하도록 초기화
                    if(sum<=m) count++; //다시 값 체크해서 이하면 count 증가, 위 if문으로 돌아가겠지
                    console.log(lt,rt);
                    //현재 문제점은 다 왔는데 lt가 n-1값까지 가지를 않는 듯
                }
                while(lt===n-2){
                    lt++; //lt를 늘려서 
                    sum=arr[lt]; //sum을 arr[lt]값으로 초기화하고
                    rt=lt; //멀리 나갔던 rt도 lt에서 같이 시작하도록 초기화
                    if(sum<=m) count++;
                }
            }
            return count;
        }
        console.log(solution(5, [1,3,1,2,3]));
    </script>
</body>
</html>